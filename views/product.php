<?php
$html_category = '';
foreach ($siblingsCategories as $category) {
    extract($category);
    $link = 'index.php?page=product&id=' . $id;
    $html_category .= '<li><a href="' . $link . '">' . htmlspecialchars($name) . '</a></li>';
}

$html_product = '';
foreach ($products as $product) {
    extract($product);
    $link = 'index.php?page=details&id='.$id;
    $html_product .='
    <div class="box-product">
        <a href="'.$link.'">
            <img src="'.$img.'" width="50px">

            <div class="box-info">
                <p class="box-name">'.$name.' </p>
                <p class="box-price">'.$price.'</p>
            </div>
        </a>

        <div class="box-btn">
            <button class="box-addToCart">
                <svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M2.25 2H3.99001C5.07001 2 5.92 2.93 5.83 4L5 13.96C4.86 15.59 6.14999 16.99 7.78999 16.99H18.44C19.88 16.99 21.14 15.81 21.25 14.38L21.79 6.88C21.91 5.22 20.65 3.87 18.98 3.87H6.07001"
                        stroke="#C92027" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round"
                        stroke-linejoin="round"></path>
                    <path
                        d="M16.5 22C17.1904 22 17.75 21.4404 17.75 20.75C17.75 20.0596 17.1904 19.5 16.5 19.5C15.8096 19.5 15.25 20.0596 15.25 20.75C15.25 21.4404 15.8096 22 16.5 22Z"
                        stroke="#C92027" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round"
                        stroke-linejoin="round"></path>
                    <path
                        d="M8.5 22C9.19036 22 9.75 21.4404 9.75 20.75C9.75 20.0596 9.19036 19.5 8.5 19.5C7.80964 19.5 7.25 20.0596 7.25 20.75C7.25 21.4404 7.80964 22 8.5 22Z"
                        stroke="#C92027" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round"
                        stroke-linejoin="round"></path>
                    <path d="M9.25 8H21.25" stroke="#C92027" stroke-width="1.5" stroke-miterlimit="10"
                        stroke-linecap="round" stroke-linejoin="round"></path>
                </svg>
            </button>

            <button class="box-buyNow">
                <svg width="18" height="21" viewBox="0 0 18 21" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M17.625 17.6584C17.625 17.8655 17.5427 18.0641 17.3963 18.2106C17.2498 18.3571 17.0511 18.4394 16.844 18.4394H16.063V19.2204C16.063 19.4275 15.9807 19.6261 15.8343 19.7726C15.6878 19.9191 15.4891 20.0014 15.282 20.0014C15.0749 20.0014 14.8762 19.9191 14.7297 19.7726C14.5833 19.6261 14.501 19.4275 14.501 19.2204V18.4394H13.72C13.5129 18.4394 13.3142 18.3571 13.1678 18.2106C13.0213 18.0641 12.939 17.8655 12.939 17.6584C12.939 17.4512 13.0213 17.2526 13.1678 17.1061C13.3142 16.9596 13.5129 16.8774 13.72 16.8774H14.501V16.0964C14.501 15.8891 14.5833 15.6903 14.7299 15.5437C14.8765 15.3972 15.0752 15.3149 15.2825 15.3149C15.4898 15.3149 15.6885 15.3972 15.8351 15.5437C15.9817 15.6903 16.064 15.8891 16.064 16.0964V16.8774H16.845C17.052 16.8776 17.2504 16.96 17.3966 17.1065C17.5429 17.2529 17.625 17.4514 17.625 17.6584ZM17.625 5.47135V12.9714C17.625 13.1785 17.5427 13.3771 17.3963 13.5236C17.2498 13.6701 17.0511 13.7524 16.844 13.7524C16.6369 13.7524 16.4382 13.6701 16.2917 13.5236C16.1453 13.3771 16.063 13.1785 16.063 12.9714V6.25235H14.5V8.59635C14.5 8.80349 14.4177 9.00214 14.2713 9.1486C14.1248 9.29507 13.9261 9.37735 13.719 9.37735C13.5119 9.37735 13.3132 9.29507 13.1667 9.1486C13.0203 9.00214 12.938 8.80349 12.938 8.59635V6.25235H5.438V8.59635C5.438 8.80349 5.35572 9.00214 5.20925 9.1486C5.06279 9.29507 4.86414 9.37735 4.657 9.37735C4.44987 9.37735 4.25121 9.29507 4.10475 9.1486C3.95828 9.00214 3.876 8.80349 3.876 8.59635V6.25235H2.313V18.4404H10.594C10.8013 18.4404 11 18.5227 11.1466 18.6693C11.2932 18.8158 11.3755 19.0146 11.3755 19.2219C11.3755 19.4291 11.2932 19.6279 11.1466 19.7745C11 19.921 10.8013 20.0034 10.594 20.0034H1.531C1.42835 20.0034 1.32671 19.9831 1.23189 19.9438C1.13707 19.9045 1.05093 19.8469 0.978398 19.7743C0.905862 19.7016 0.848353 19.6154 0.809163 19.5205C0.769973 19.4257 0.749869 19.324 0.750001 19.2214V5.47135C0.750001 5.26422 0.832283 5.06557 0.978749 4.9191C1.12521 4.77264 1.32386 4.69035 1.531 4.69035H3.912C4.06427 3.39811 4.68555 2.20671 5.65797 1.34214C6.63039 0.47758 7.88632 0 9.1875 0C10.4887 0 11.7446 0.47758 12.717 1.34214C13.6895 2.20671 14.3107 3.39811 14.463 4.69035H16.844C17.0511 4.69035 17.2498 4.77264 17.3963 4.9191C17.5427 5.06557 17.625 5.26422 17.625 5.47135ZM12.885 4.69035C12.7403 3.81345 12.289 3.01642 11.6113 2.44138C10.9336 1.86634 10.0738 1.55068 9.185 1.55068C8.29624 1.55068 7.43637 1.86634 6.75871 2.44138C6.08105 3.01642 5.62965 3.81345 5.485 4.69035H12.885Z" fill="white"></path></svg>
            </button>
        </div>
    </div>
    ';
}
?>

<main>
    <section class="product-page">
        <div class="container">
            <ul class="category">
                <?=$html_category?>
            </ul>

            <div class="products">
                <?=$html_product;?>
            </div>
        </div>
    </section>
</main>